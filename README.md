
# 🛒 TEXAS POS — ระบบขายหน้าร้านแบบ Mobile-first .

เว็บแอปพลิเคชันสำหรับขายหน้าร้าน (POS) ใช้งานง่าย เหมือนแอป iPhone  
ออกแบบมาสำหรับร้านค้าขนาดเล็ก โดยเน้นมือถือ iPhone Pro Max เป็นหลัก  
ใช้ Vanilla JS + Supabase เฉพาะจุดที่จำเป็น

---

## ✅ สถานะระบบล่าสุด

| ส่วนประกอบ | สถานะ | หมายเหตุ |
|------------|--------|----------|
| ระบบ Login | ✅ เสร็จสิ้น | รหัส 4 หลัก ตรวจสอบกับ Supabase |
| ระบบขาย POS | ✅ เสร็จสิ้น | ตะกร้า, ชำระเงิน, หลายราคา, ตัดสต๊อก |
| ระบบกะ | ✅ เสร็จสิ้น | เปิดกะอัตโนมัติ, ปิดกะเอง หรือ auto 02:00 |
| ประวัติการขาย | ✅ เสร็จสิ้น | รายวัน 06:00–02:00, แสดงแบบกลุ่มบิล |
| UI เพิ่มสต๊อก | ⬜️ ยังไม่เริ่ม | ให้พนักงานเพิ่มจำนวนสินค้าเดิมได้ |
| เพิ่มสินค้าใหม่ (Admin) | ⬜️ ยังไม่เริ่ม | เฉพาะผู้มี role = admin |
| ระบบเปลี่ยนธีม | ⬜️ ยังไม่เริ่ม | สลับ Light/Dark Mode |

---

## 📁 โครงสร้างไฟล์

```
/
├── index.html
├── pos.html
├── css/
│   ├── style.css
│   └── pos.css
├── js/
│   ├── supabaseClient.js
│   ├── auth.js
│   └── pos.js
└── img/
```

---

## 🗃️ Supabase ที่ใช้

| ตาราง | ใช้ทำอะไร |
|-------|-----------|
| employees | ตรวจสอบรหัสพนักงาน |
| product_stocks | ดึง/อัปเดตสต๊อกแบบ real-time |
| sales | เก็บรายการขาย (มี transaction_id สำหรับกลุ่มบิล) |
| shifts | เปิด/ปิดกะของแต่ละคน |
| pg_cron | ปิดกะอัตโนมัติ 02:00 |

> 🔸 ข้อมูลสินค้า (`products`) อยู่ในไฟล์ `pos.js` แบบ Local

---

## 🛠 สิ่งที่ควรทำต่อ

- [ ] หน้าเพิ่มสต๊อก (เฉพาะพนักงาน)
- [ ] ฟอร์มเพิ่มสินค้าใหม่ (admin)
- [ ] ระบบธีมมืด/สว่าง
- [ ] Export ประวัติการขายเป็น PDF/CSV

---

## 📌 หมายเหตุ
ระบบใช้แนวคิด **แยกการขายออกเป็นหลายแถว** ต่อ 1 บิล  
โดยมี `transaction_id` UUID เพื่อจัดกลุ่มการขายแต่ละบิล  
ทุกการขายจะบันทึกลง Supabase และลดสต๊อกแบบทันที (real-time sync)
